<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<title>セーフモードOFFのJekyllをGitHubActionsにより楽に使用する環境の構築手順 | Rem_Note</title>
	
	
		<meta name="description" content="初めにこのブログはJekyllで静的ページを生成し、GitHubPagesで公開している。Jekyllのプラグインは、サポートされているプラグインのみを使用している。サポートされているプラグインを使用する場合はJekyllはセーフモードONで十分であり、...">
	
	
	<link href="/blog/assets/img/favicon01.ico" rel="shortcut icon">
	<link href="/blog/feed.xml" rel="alternate" type="application/rss+xml">
	
	<script src="/blog/assets/lib/jquery-3.6.0/jquery-3.6.0.min.js"></script>
	<script src="/blog/assets/lib/bootstrap-4.5.3/js/bootstrap.bundle.min.js"></script>
	<script src="/blog/assets/lib/fontawesome-free-5.15.4/js/all.min.js"></script>
	<script src="/blog/assets/lib/lightbox2-2.11.3/js/lightbox.min.js" defer></script>
	
	<script src="/blog/assets/lib/lunr/lunr/lunr-2.3.9.js"></script>
	<script src="/blog/assets/lib/lunr/lunr-languages/lunr.stemmer.support.js"></script>
	<script src="/blog/assets/lib/lunr/lunr-languages/tinyseg.js"></script>
	<script src="/blog/assets/lib/lunr/lunr-languages/lunr.ja.js"></script>
	<script src="/blog/assets/lib/lunr/lunr-languages/lunr.multi.js"></script>
	
	<script src="/blog/assets/js/header.js"></script>
	<script src="/blog/assets/js/search.js" defer></script>

	<link href="/blog/assets/lib/bootstrap-4.5.3/css/bootstrap.min.css" rel="stylesheet">
	<link href="/blog/assets/css/theme.css" rel="stylesheet">
	<link href="/blog/assets/css/syntax-github.css" rel="stylesheet">
	<link href="/blog/assets/lib/lightbox2-2.11.3/css/lightbox.min.css" rel="stylesheet">
	


</head>


<body>
	
<header class="fixed-top">
	<div class="nav-top">
		<div class="container">
			<nav class="navbar navbar-expand-lg">
				<a class="navbar-brand" href="/blog/">
					Rem_Note
				</a>
				
				<div class="collapse navbar-collapse">
					<ul class="navbar-nav">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="/blog/posts/"
								id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">
								<i class="fas fa-fw fa-folder"></i>
								カテゴリ
							</a>
							<div class="dropdown-menu mt-0" aria-labelledby="navbarDropdown">
								
								
									<a class="dropdown-item" href="/blog/posts/%E6%8A%80%E8%A1%93%E6%97%A5%E8%A8%98">
										技術日記 (3)
									</a>
								
									<a class="dropdown-item" href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B">
										技術紹介 (6)
									</a>
								
							</div>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="/blog/tags/"
								id="navbarDropdown" role="button" aria-haspopup="true" aria-expanded="false">
								<i class="fas fa-fw fa-tag"></i>
								タグ
							</a>
							<div class="dropdown-menu mt-0" aria-labelledby="navbarDropdown">
								
								
									<a class="dropdown-item" href="/blog/tags/commit">
										commit (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/git">
										Git (2)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/github">
										GitHub (3)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/githubactions">
										GitHubActions (2)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/githubpages">
										GitHubPages (3)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/jekyll">
										Jekyll (2)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/lighthouse">
										Lighthouse (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/rebase">
										rebase (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/tortoisegit">
										TortoiseGit (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88">
										コミット (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/%E3%83%86%E3%83%BC%E3%83%9E%E6%94%B9%E8%89%AF">
										テーマ改良 (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/%E3%83%96%E3%83%AD%E3%82%B0%E6%A7%8B%E7%AF%89">
										ブログ構築 (6)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/%E3%83%AA%E3%83%99%E3%83%BC%E3%82%B9">
										リベース (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/%E8%A9%95%E4%BE%A1%E3%83%84%E3%83%BC%E3%83%AB">
										評価ツール (1)
									</a>
								
									<a class="dropdown-item" href="/blog/tags/%E9%9D%99%E7%9A%84%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%83%BC">
										静的サイトジェネレーター (1)
									</a>
								
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/blog/archive/">
								<i class="fas fa-fw fa-book"></i>
								アーカイブ
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/blog/about/">
								<i class="fas fa-fw fa-user"></i>
								プロフィール
							</a>
						</li>
					</ul>
				</div>
				
				<ul class="navbar-nav">
					<li class="nav-item">
						<form method="get" id="search-form" action="/blog/search/">
							<input type="search" id="search-query" name="search-query" class="form-control" placeholder="記事検索">
						</form>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</header>

	
	<main>
		<div class="container">
			
			<div class="row">
				<div class="col-lg-12">
					<div class="top-card">
						<span>自分がしたことや考えたことなどを備忘録として記録する場所</span>
						<div class="top-image"></div>
					</div>
				</div>
			</div>
			
			<div class="row">
				<div class="col-lg-9">
<aside class="page-navi-card">
	<nav class="navbar navbar-expand">
		<div class="collapse navbar-collapse">
			<ul class="navbar-nav">
				
				
					<li class="nav-item">
						
							<a class="nav-link" href="/blog/">
								<i class="fas fa-fw fa-chevron-right"></i>
								ホーム
							</a>
						
					</li>
				
					<li class="nav-item">
						
							<a class="nav-link" href="/blog/posts/">
								<i class="fas fa-fw fa-chevron-right"></i>
								カテゴリ
							</a>
						
					</li>
				
					<li class="nav-item">
						
							<a class="nav-link" href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/">
								<i class="fas fa-fw fa-chevron-right"></i>
								技術紹介
							</a>
						
					</li>
				
					<li class="nav-item">
						
							<span class="nav-link">
								<i class="fas fa-fw fa-chevron-right"></i>
								00007
							</span>
						
					</li>
				
			</ul>
		</div>
	</nav>
</aside>


<article class="post-card">
	<h1>
		<i class="fas fa-fw fa-newspaper"></i>セーフモードOFFのJekyllをGitHubActionsにより楽に使用する環境の構築手順
	</h1>
	







<div class="post-meta">
	<ul class="post-time">
		<li>
			<i class="fa fa-fw fa-calendar-alt"></i>
			<span><time datetime="2021/09/02 22:30:00">2021/09/02 22:30:00</time></span>
		</li>
		
		
		<li>
			<i class="fas fa-fw fa-edit"></i>
			<span><time datetime="2021/09/04 07:00:00">2021/09/04 07:00:00</time></span>
		</li>
		
	</ul>
	
	
	<ul class="post-log">
		<li>
			<i class="fas fa-fw fa-history"></i>
			<a href="https://github.com/silverag-corgi/blog/commits/master/_posts/2021-09-02-00007.md" target="_blank" rel="noopener">変更履歴 on GitHub</a>
		</li>
	</ul>
	
	
	<ul class="post-category">
		
		<li>
			<i class="fas fa-fw fa-folder"></i>
			<a href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B">
				技術紹介
			</a>
		</li>
		
	</ul>
	
	<ul class="post-tag">
		
		<li>
			<i class="fas fa-fw fa-tag"></i>
			<a href="/blog/tags/%E3%83%96%E3%83%AD%E3%82%B0%E6%A7%8B%E7%AF%89">
				ブログ構築
			</a>
		</li>
		
		<li>
			<i class="fas fa-fw fa-tag"></i>
			<a href="/blog/tags/jekyll">
				Jekyll
			</a>
		</li>
		
		<li>
			<i class="fas fa-fw fa-tag"></i>
			<a href="/blog/tags/githubpages">
				GitHubPages
			</a>
		</li>
		
		<li>
			<i class="fas fa-fw fa-tag"></i>
			<a href="/blog/tags/githubactions">
				GitHubActions
			</a>
		</li>
		
	</ul>
	
	
	<ul class="post-reading-time">
		<li>
			<i class="fas fa-fw fa-book-reader"></i>
			約13分
		</li>
	</ul>
	
</div>

	
	
		<p class="post-header-image">
			<img src="/blog/assets/post/00007/GitHubActions.jpg" alt="記事ヘッダ画像">
		</p>
	
	
	<div class="post-content">
		
		
<h1>目次</h1>

<ul class="toc"><li><a href="#初めに">初めに</a></li><li><a href="#ブログ公開までのワークフロー">ブログ公開までのワークフロー</a><ul><li><a href="#変更前セーフモードonサポートされているプラグインのみ使用">変更前(セーフモードON：サポートされているプラグインのみ使用)</a></li><li><a href="#変更後セーフモードoffサポートされていないプラグイン使用">変更後(セーフモードOFF：サポートされていないプラグイン使用)</a></li></ul></li><li><a href="#公開用ブランチgh-pagesの作成">公開用ブランチ(gh-pages)の作成</a><ul><li><a href="#参考サイト">参考サイト</a></li></ul></li><li><a href="#githubactionsによる自動化の設定">GitHubActionsによる自動化の設定</a><ul><li><a href="#20210903-追記">2021/09/03 追記</a></li><li><a href="#20210904-追記">2021/09/04 追記</a></li><li><a href="#参考サイト-1">参考サイト</a></li></ul></li><li><a href="#githubactionsによる自動化の実行結果">GitHubActionsによる自動化の実行結果</a><ul><li><a href="#開発用ブランチmasterの資産状態">開発用ブランチ(master)の資産状態</a></li><li><a href="#実行ログ">実行ログ</a></li><li><a href="#公開用ブランチgh-pagesの資産状態">公開用ブランチ(gh-pages)の資産状態</a></li></ul></li><li><a href="#最後に">最後に</a></li></ul>

		
		
<h1 id="初めに">初めに</h1>

<p>このブログはJekyllで静的ページを生成し、GitHubPagesで公開している。
Jekyllのプラグインは、サポートされているプラグインのみを使用している。</p>

<p>サポートされているプラグインを使用する場合はJekyllはセーフモードONで十分であり、
ビルド前の資産をプッシュするだけで勝手にビルドされサイトが公開される。</p>

<p>しかし、サポートされていないプラグインを使用する場合はJekyllをセーフモードOFFにする必要があり、
事前にビルドしてその生成物をプッシュする必要がある。
問題点は、資産と生成物の変更履歴が一緒になり汚くなること、
資産を編集する度に資産と生成物の両方をプッシュするのは手間になることである。</p>

<p>そのため、CI/CDツールであるGitHubActionsを用いてビルドやプッシュを自動化する環境を構築した。
今回はその構築手順をまとめる。</p>

<h1 id="ブログ公開までのワークフロー">ブログ公開までのワークフロー</h1>

<p>まず、このブログが公開されるまでのワークフローをまとめる。</p>

<p>★が記載された行が変更箇所である。</p>

<h2 id="変更前セーフモードonサポートされているプラグインのみ使用">変更前(セーフモードON：サポートされているプラグインのみ使用)</h2>

<ol>
  <li>ユーザがmasterブランチへ資産をプッシュする</li>
  <li>GitHubがmasterブランチへのプッシュを検知する</li>
  <li>GitHubがGitHubPagesに組み込まれたJekyll(セーフモードON)でビルドする</li>
  <li>GitHubがGitHubPagesに生成物をデプロイする</li>
  <li>GitHubPagesがブログを公開する</li>
</ol>

<h2 id="変更後セーフモードoffサポートされていないプラグイン使用">変更後(セーフモードOFF：サポートされていないプラグイン使用)</h2>

<ol>
  <li>ユーザがmasterブランチへ資産をプッシュする</li>
  <li>(★)GitHubActionsがmasterブランチへのプッシュを検知する</li>
  <li>(★)GitHubActionsがタイムゾーンを設定する</li>
  <li>(★)GitHubActionsがリポジトリをチェックアウトする</li>
  <li>(★)GitHubActionsがRubyをセットアップする</li>
  <li>(★)GitHubActionsがGemをインストールする</li>
  <li>(★)GitHubActionsがJekyll(セーフモードOFF)でビルドする</li>
  <li>(★)GitHubActionsがgh-pagesブランチへ生成物をプッシュする</li>
  <li>GitHubがGitHubPagesに生成物をデプロイする</li>
  <li>GitHubPagesがブログを公開する</li>
</ol>

<h1 id="公開用ブランチgh-pagesの作成">公開用ブランチ(gh-pages)の作成</h1>

<p>資産と生成物の変更履歴を分けるため、開発用ブランチ(master)と公開用ブランチ(gh-pages)で別々に管理する。</p>

<p>開発用ブランチは既にあるので、公開用ブランチを新たに作成する。
作成時に基点となるブランチから資産や変更履歴を引き継ぎたくないため、親のないブランチとして作成する。</p>

<p>しかし、自分の環境での注意事項であるが、
普段使用しているTortoiseGitには親のないブランチを作成する機能(orphan)は提供していないらしい。
そのためGitCmdで作成する。</p>

<p>公開用ブランチを作成した時のコマンドを示す。</p>

<p class="filename">GitCmd</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> &lt;workspace_path&gt;              <span class="c"># ワークスペースに移動する</span>
<span class="nv">$ </span>git clone &lt;repo_url&gt; &lt;dir_name&gt;  <span class="c"># ブランチ用のフォルダにリポジトリをクローンする</span>
<span class="nv">$ </span><span class="nb">cd</span> &lt;dir_name&gt;                    <span class="c"># ブランチ用のフォルダに移動する</span>
<span class="nv">$ </span>git checkout <span class="nt">--orphan</span> gh-pages   <span class="c"># 親のないブランチとしてgh-pagesを作成する</span>
<span class="nv">$ </span>git reset <span class="nt">--hard</span>                 <span class="c"># 既存のリポジトリの内容がステージングされているのでリセットする</span>
<span class="nv">$ </span><span class="nb">type </span>nul <span class="o">&gt;</span> README.md             <span class="c"># READMEを作成する</span>
<span class="nv">$ </span>git add README.md                <span class="c"># READMEをステージングする</span>
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Initial commit"</span>   <span class="c"># コミットする</span>
<span class="nv">$ </span>git push origin gh-pages         <span class="c"># プッシュする</span>
</code></pre></div></div>

<p>因みにorphanとは孤児のことらしい。
更に孤児は両親・親戚等の保護者のいない未成年者という意味から、
親のないブランチでorphanということらしい。</p>

<h2 id="参考サイト">参考サイト</h2>

<ol>
  <li><a href="https://portaltan.hatenablog.com/entry/2018/05/21/093622">gitで親ブランチのない空ブランチを作成する - 脳汁portal
</a></li>
</ol>

<h1 id="githubactionsによる自動化の設定">GitHubActionsによる自動化の設定</h1>

<p>資産を編集する度に資産と生成物の両方をプッシュするのは手間になるため、
CI/CDツールであるGitHubActionsを用いて
<a href="#ワークフロー">ワークフロー</a>
の2.～8.を自動化する。</p>

<p>これにより開発用ブランチ(master)に資産をプッシュすると、
リポジトリのチェックアウト、ビルド環境の構築、セーフモードOFFのJekyllによるビルド、
公開用ブランチ(gh-pages)への生成物のプッシュなどが自動で実行される。</p>

<p>以下のワークフローファイルを作成し、開発用ブランチ(master)にプッシュした。</p>

<p class="filename">.github/workflows/push-to-gh-pages-branch.yml</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ワークフロー名</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">Push To gh-pages Branch</span>

<span class="c1"># ジョブが実行されるトリガー</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">master</span> <span class="c1"># 2. GitHubActionsがmasterブランチへのプッシュを検知する</span>

<span class="c1"># 実行されるジョブ一覧</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">deploy</span><span class="pi">:</span> <span class="c1"># ジョブ名</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-20.04</span> <span class="c1"># 実行環境</span>
    
    <span class="na">concurrency</span><span class="pi">:</span> <span class="c1"># 並行処理(同じグループのジョブは処理待ち)</span>
      <span class="na">group</span><span class="pi">:</span> <span class="s">${{ github.workflow }} - ${{ github.ref }}</span>
      <span class="c1"># [ワークフロー名]-[ワークフローの実行をトリガーしたブランチ名]</span>
      <span class="c1"># Deploy GitHub Pages - refs/heads/master</span>
    
    <span class="na">steps</span><span class="pi">:</span> <span class="c1"># ジョブで実行されるステップ一覧</span>
      <span class="c1"># 3. GitHubActionsがタイムゾーンを設定する</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Set Timezone</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">szenius/set-timezone@v1.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">timezoneLinux</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Asia/Tokyo"</span>
      
      <span class="c1"># 4. GitHubActionsがリポジトリをチェックアウトする</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout Repository</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
      
      <span class="c1"># 5. GitHubActionsがRubyをセットアップする</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Setup Ruby</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/setup-ruby@v1</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">ruby-version</span><span class="pi">:</span> <span class="m">2.7</span>
      
      <span class="c1"># 6. GitHubActionsがGemをインストールする</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Bundle Install According to Gemfile</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">bundle install</span>
      
      <span class="c1"># 7. GitHubActionsがJekyll(セーフモードOFF)でビルドする</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Jekyll Build</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">bundle exec jekyll build</span>
      
      <span class="c1"># 8. GitHubActionsがgh-pagesブランチへ生成物をプッシュする</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Push to gh-pages Branch</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">peaceiris/actions-gh-pages@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">github_token</span><span class="pi">:</span> <span class="s">${{ secrets.GITHUB_TOKEN }}</span>
          <span class="na">publish_branch</span><span class="pi">:</span> <span class="s">gh-pages</span>
          <span class="na">publish_dir</span><span class="pi">:</span> <span class="s">./_site</span>
          <span class="na">force_orphan</span><span class="pi">:</span> <span class="no">true</span> <span class="c1"># コミット件数は必ず1件(最新のコミットのみ)</span>
          <span class="na">user_name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">github-actions[bot]"</span>
          <span class="na">user_email</span><span class="pi">:</span> <span class="s2">"</span><span class="s">github-actions[bot]@users.noreply.github.com"</span>
</code></pre></div></div>

<h2 id="20210903-追記">2021/09/03 追記</h2>

<p>表示される記事の投稿日時は日本標準時(JST:UTC+0900)で期待した通りであったが、
GitHubActionがJekyllでビルドする際に以下のメッセージが出力され、ビルドされない問題が発生した。</p>

<ul>
  <li>Skipping: _posts/2021-09-02-00007.md has a future date</li>
  <li>記事の投稿日時が未来であるため、当該記事のビルドをスキップ</li>
</ul>

<p>GitHubActionの実行環境のタイムゾーンが協定世界時(WET:UTC+0000)になっていたため、
この問題が発生したと思われる。</p>

<p>以下の対応を行うことにより解決した。</p>

<ul>
  <li>ワークフローのステップの最初にタイムゾーン設定処理(3.)を追加する</li>
</ul>

<h2 id="20210904-追記">2021/09/04 追記</h2>

<p>GitHubActionがJekyllでビルドする際に以下のメッセージ(一部省略)が出力され、
ファイル名(日本語)の文字化けによりビルドが失敗する問題が発生した。</p>

<ul>
  <li>utils.rb:141:in `initialize’: Invalid argument @ rb_sysopen - /contents/category/????.md (Errno::EINVAL)</li>
  <li>エラーログは<a href="https://github.com/silverag-corgi/silverag-corgi.github.io/runs/3501344170">こちら</a></li>
</ul>

<p>この問題はWindows用のRubyの課題として挙がっていた。
解決策はWindows以外を使用するか、ASCII文字にファイル名を変更するか、どちらかであるとのこと。</p>

<blockquote>
  <p>This is a known issue with Ruby on Windows.
The solution would be to switch to a non-Windows system or rename files with ascii characters.</p>
</blockquote>

<p>以下の対応を行うことにより解決した。</p>

<ul>
  <li>ワークフローの実行環境をwindows-2019からubuntu-20.04に変更する</li>
  <li>ワークフローのステップのタイムゾーン設定処理をLinux用に変更する</li>
  <li>Linux環境のsasscはBundleInstallが非常に遅いため2.4.0から2.1.0に変更する</li>
</ul>

<h2 id="参考サイト-1">参考サイト</h2>

<ol>
  <li><a href="https://qiita.com/peaceiris/items/d401f2e5724fdcb0759d">GitHub Actions による GitHub Pages への自動デプロイ - Qiita
</a></li>
  <li><a href="https://github.com/peaceiris/actions-gh-pages">peaceiris/actions-gh-pages
</a></li>
  <li><a href="https://docs.github.com/ja/actions/guides/building-and-testing-ruby">Rubyでのビルドとテスト - GitHub Docs
</a></li>
  <li><a href="https://talk.jekyllrb.com/t/unicode-character-inside-file-name-makes-problems/3665">Unicode character inside file name makes problems
</a></li>
  <li><a href="https://qiita.com/croquette0212/items/d2f48f30c3ed7dcd0e3c">Ruby on Rails 6のbundle installが重すぎる
</a></li>
</ol>

<h1 id="githubactionsによる自動化の実行結果">GitHubActionsによる自動化の実行結果</h1>

<p>以下のコミットメッセージで開発用ブランチ(master)にプッシュした際の実行結果をワークフロー順に示す。</p>

<ul>
  <li>[d_upd] 記事更新</li>
</ul>

<h2 id="開発用ブランチmasterの資産状態">開発用ブランチ(master)の資産状態</h2>

<p><a href="/blog/assets/post/00007/branch_master.JPG" data-lightbox="group">
  <img src="/blog/assets/post/00007/branch_master.JPG" alt="GitHubActions_gh-pages" />
</a></p>

<h2 id="実行ログ">実行ログ</h2>

<p>上記で作成した
<a href="#githubactionsによる自動化の設定">ワークフローファイル</a>
が実行され、31秒で完了している。</p>

<p><a href="/blog/assets/post/00007/GitHubActions_log.JPG" data-lightbox="group">
  <img src="/blog/assets/post/00007/GitHubActions_log.JPG" alt="GitHubActions_log" />
</a></p>

<h2 id="公開用ブランチgh-pagesの資産状態">公開用ブランチ(gh-pages)の資産状態</h2>

<p><a href="/blog/assets/post/00007/branch_gh-pages.JPG" data-lightbox="group">
  <img src="/blog/assets/post/00007/branch_gh-pages.JPG" alt="GitHubActions_gh-pages" />
</a></p>

<h1 id="最後に">最後に</h1>

<p>今回はセーフモードOFFのJekyllによるビルドを含めたワークフローの一部をGitHubActionsにより自動化した。</p>

<p>これでサポートされていないプラグインだからと使用を見送っていたプラグインを使用できる。
しかし元々はサポートされているプラグインのみを使用する想定で実装していたいため、
移植する箇所が結構ありそう。大変そうではあるが今から楽しみ。</p>


		

	<div class="share-bar">
		<ul class="share-buttons">
			
			
				<li class="share-twitter">
					<a href="https://twitter.com/intent/tweet?text=%E3%82%BB%E3%83%BC%E3%83%95%E3%83%A2%E3%83%BC%E3%83%89OFF%E3%81%AEJekyll%E3%82%92GitHubActions%E3%81%AB%E3%82%88%E3%82%8A%E6%A5%BD%E3%81%AB%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B%E7%92%B0%E5%A2%83%E3%81%AE%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86+%7C+Rem_Note%0ahttps://silverag-corgi.github.io/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00007/" target="_blank" rel="noopener" title="Tweet">
						<i class="fab fa-fw fa-2x fa-twitter-square"></i>
					</a>
				</li>
			
			
			
				<li class="share-line">
					<a href="https://social-plugins.line.me/lineit/share?url=https://silverag-corgi.github.io/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00007/" target="_blank" rel="noopener" title="Tweet">
						<i class="fab fa-fw fa-2x fa-line"></i>
					</a>
				</li>
			
			
		</ul>
	</div>


	</div>
</article>

<aside class="post-navi-card">
	<ul class="pagination justify-content-around">
		
			
				<li class="page-item col-lg-6">
					<a class="page-link" href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00006/">リポジトリの言語統計から外部ライブラリを除外する方法</a>
				</li>
			
			
			
				<li class="page-item col-lg-6">
					<a class="page-link" href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00008/">GitHubActionsで実行されるGemインストールの高速化手順</a>
				</li>
			
		
	</ul>
</aside>

				</div>
				
				<div class="col-lg-3">
<aside class="recent-posts-card">
	<h2>最近の記事</h2>
	<ul class="fa-ul">
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-newspaper"></i></span>
				<a href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00009/">
					GitHubStars上位5件の静的サイトジェネレーターの情報整理
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-newspaper"></i></span>
				<a href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00008/">
					GitHubActionsで実行されるGemインストールの高速化手順
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-newspaper"></i></span>
				<a href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00007/">
					セーフモードOFFのJekyllをGitHubActionsにより楽に使用する環境の構築手順
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-newspaper"></i></span>
				<a href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/00006/">
					リポジトリの言語統計から外部ライブラリを除外する方法
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-newspaper"></i></span>
				<a href="/blog/posts/%E6%8A%80%E8%A1%93%E6%97%A5%E8%A8%98/00005/">
					ブログテーマを大改造したので、Lighthouseで評価してみました
				</a>
			</li>
		
	</ul>
</aside>

<aside class="popular-tags-card">
	<h2>タグ(記事数降順)</h2>
	<ul class="fa-ul">
		
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/%E3%83%96%E3%83%AD%E3%82%B0%E6%A7%8B%E7%AF%89">
					ブログ構築 (6)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/github">
					GitHub (3)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/githubpages">
					GitHubPages (3)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/git">
					Git (2)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/githubactions">
					GitHubActions (2)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/jekyll">
					Jekyll (2)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/commit">
					commit (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/lighthouse">
					Lighthouse (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/rebase">
					rebase (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/tortoisegit">
					TortoiseGit (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88">
					コミット (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/%E3%83%86%E3%83%BC%E3%83%9E%E6%94%B9%E8%89%AF">
					テーマ改良 (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/%E3%83%AA%E3%83%99%E3%83%BC%E3%82%B9">
					リベース (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/%E8%A9%95%E4%BE%A1%E3%83%84%E3%83%BC%E3%83%AB">
					評価ツール (1)
				</a>
			</li>
		
			<li>
				<span class="fa-li"><i class="fas fa-fw fa-tag"></i></span>
				<a href="/blog/tags/%E9%9D%99%E7%9A%84%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B8%E3%82%A7%E3%83%8D%E3%83%AC%E3%83%BC%E3%82%BF%E3%83%BC">
					静的サイトジェネレーター (1)
				</a>
			</li>
		
	</ul>
</aside>

				</div>
			</div>
			
		</div>
	</main>
	
<footer>
	<div class="author">
		<div class="container">
			<p>&copy; 2021 Rem_</p>
<ul class="social-media">
	
	
		<li>
			<a title="silverag-corgi on Github" href="https://github.com/silverag-corgi" target="_blank" rel="noopener"><i class="fab fa-github fa-2x"></i></a>
		</li>
	
	
	
		<li>
			<a title="silverag_corgi on Twitter" href="https://twitter.com/silverag_corgi" target="_blank" rel="noopener"><i class="fab fa-twitter fa-2x"></i></a>
		</li>
	
	
	
		<li>
			<a title="/feed.xml RSS" href="/blog/feed.xml" target="_blank" rel="noopener"><i class="fas fa-fw fa-rss fa-2x"></i></a>
		</li>
	
	
</ul>

		</div>
	</div>
	
	<div class="page-top position-fixed">
		<i class="fas fa-arrow-up"></i>
	</div>
	
	<div class="nav-bottom fixed-bottom">
		<div class="container">
			<nav class="navbar navbar-expand">
				<div class="collapse navbar-collapse">
					<ul class="navbar-nav justify-content-between">
						<li class="nav-item nav-bottom-icon d-table-cell text-center align-middle">
							<a class="nav-link" href="/blog/">
								<i class="fas fa-fw fa-home"></i>
								<div>ホーム</div>
							</a>
						</li>
						<li class="nav-item nav-bottom-icon d-table-cell text-center align-middle">
							<a class="nav-link" href="/blog/posts/%E6%8A%80%E8%A1%93%E6%97%A5%E8%A8%98/">
								<i class="fas fa-fw fa-folder"></i>
								<div>技術日記</div>
							</a>
						</li>
						<li class="nav-item nav-bottom-icon d-table-cell text-center align-middle">
							<a class="nav-link" href="/blog/posts/%E6%8A%80%E8%A1%93%E7%B4%B9%E4%BB%8B/">
								<i class="fas fa-fw fa-folder"></i>
								<div>技術紹介</div>
							</a>
						</li>
						<li class="nav-item nav-bottom-icon d-table-cell text-center align-middle">
							<a class="nav-link" href="/blog/archive/">
								<i class="fas fa-fw fa-book"></i>
								<div>アーカイブ</div>
							</a>
						</li>
						<li class="nav-item nav-bottom-icon d-table-cell text-center align-middle">
							<a class="nav-link" href="/blog/about/">
								<i class="fas fa-fw fa-user"></i>
								<div>プロフ</div>
							</a>
						</li>
						<li class="nav-item nav-bottom-icon d-table-cell text-center align-middle">
							<div class="page-top">
								<i class="fas fa-fw fa-arrow-up"></i>
								<div>トップ</div>
							</div>
						</li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
</footer>

	
</body>

</html>
